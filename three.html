<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    
    <!-- Imporant meta information to make the page as rigid as possible on mobiles, to avoid unintentional zooming on the page itself  -->
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Chair Tutorial</title>
    <link href="https://fonts.googleapis.com/css?family=Raleway:500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" />
</head>
<div class="main">
       
    <div class="bar">
        <div class="logo left">
            <img src="logo.png" alt="zavodila logo">
        </div>
        <div class="page"  id="aboutClick">About</div> 
      
        <div class="brand">zavodila</div>
    </div>
    <div id="scene"></div> 
    <div class="bar bottombar">
        <div class="social left">
            <a>facebook</a><a>twitter</a>
        </div>
        <div class="page" id="workClick">Works</div> 
        
        <div class="contact"><i class="fa fa-whatsapp" aria-hidden="true"></i></div>
    </div>
</div>


 <div class="about divBig" id="about">
    <div class="bar">
        <div class="logo left">
            <img src="logo.png" alt="zavodila logo">
        </div>
        <div class="page" style="visibility: hidden;" >About</div> 
      
        <div class="brand">zavodila</div>
    </div>
    
    <div class="bar bottombar">
        <div class="social left">
            <a>facebook</a><a>twitter</a>
        </div>
        <div class="page closebtn" id="closeaboutClick">Close</div> 
        
        <div class="contact"><i class="fa fa-whatsapp" aria-hidden="true"></i></div>
    </div>
</div>

<div class="works divBig" id="works">
    <div class="bar">
        <div class="logo left">
            <img src="logo.png" alt="zavodila logo">
        </div>
        <div class="page"  style="visibility: hidden;">Work</div> 
      
        <div class="brand">zavodila</div>
    </div>
    
    <div class="bar bottombar">
        <div class="social left">
            <a>facebook</a><a>twitter</a>
        </div>
        <div class="page closebtn" id="closeworkClick">Close</div> 
        
        <div class="contact"><i class="fa fa-whatsapp" aria-hidden="true"></i></div>
    </div>
</div>










  <!-- The main three.js file -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/108/three.min.js'></script>

<!-- This brings in the ability to load custom 3D objects in the .gltf file format. Blender allows the ability to export to this format out the box -->
<script src='https://cdn.jsdelivr.net/gh/mrdoob/three.js@r92/examples/js/loaders/GLTFLoader.js'></script>
<!-- <script src='TextureLoader.js'></script> -->

<!-- This is a simple to use extension for three.js that activates all the rotating, dragging and zooming controls we need for both mouse and touch, there isn't a clear CDN for this that I can find -->
<script src='BetterOrbitControls.js'></script>
<script src="script.js"></script>
<script>
var container;
var scene;
var renderer;
var camera;

var model;

function init()
{
container = document.getElementById('scene');

scene= new THREE.Scene();
const fov=60;
const aspect =container.clientWidth/container.clientHeight;
const near =0.1;
const far =500;

// renderer.shadowMap.enabled = true;
//         renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        
camera = new THREE.PerspectiveCamera(fov,aspect,near,far);
camera.position.set(0,-15,0)
// camera.rotation.x=Math.PI;



renderer = new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setSize(container.clientWidth, container.clientHeight);
renderer.setPixelRatio(window.devicePixelRatio);
container.appendChild(renderer.domElement);


let ambient = new THREE.AmbientLight(0x404040,3);
scene.add(ambient)

let direction = new THREE.DirectionalLight(0xffffff,2);
direction.position.set(20,10,2);
// document.addEventListener("mousemove",(e)=>{
//     // document.position.set(e.clientX,e.clientY,2);
//     console.log("X:", clientX)
// })

scene.add(direction)

let point = new THREE.PointLight(0xffffff,31);
point.position.set(10,10,2)

const rectLight = new THREE.RectAreaLight( 0xffffff, 3,  20, 20 );
rectLight.position.set(10,12,-2 );
rectLight.lookAt( 0, 0, 0 );
scene.add( rectLight );

// rectLight.shadow.mapSize.width = 512; // default
// rectLight.shadow.mapSize.height = 512; // default
// rectLight.shadow.camera.near = 0.5; // default
// rectLight.shadow.camera.far = 500;
// const geometry1 = new THREE.BoxGeometry( 30, 30, 1 );

// // geometry1.position.set(-10,12,-2)
// const cube = new THREE.Mesh( geometry1 );
// cube.rotation.x=Math.PI/2;
// // cube.castShadow = true; //default is false
// // cube.receiveShadow = false; //default
// scene.add(cube);


var controls = new THREE.OrbitControls( camera, renderer.domElement );
controls.maxPolarAngle = Math.PI / 2;
controls.minPolarAngle = Math.PI /2;
controls.enableDamping = true;
controls.enablePan = false;
controls.dampingFactor = 0.1;
controls.autoRotate = false; // Toggle this if you'd like the chair to automatically rotate
controls.autoRotateSpeed = 0.2;
// controls.addEventListener('change',renderer)

let loader = new THREE.GLTFLoader();
loader.load('scene.gltf',function(gltf)
{
    scene.add(gltf.scene);
    model=gltf.scene;
    model.rotation.x=0;
    model.scale.set(1.4,1.4,1.4)
    // model.rotation.z=1;
  animate()
})

// instantiate a loader
// const loader1 = new THREE.TextureLoader().load('texture.png');

// const material= new THREE.MeshBasicMaterial();
// const mesh =new THREE.Mesh(loader1,material);
// material.map = THREE.ImageUtils.loadTexture('texture.png');
// scene.add(material)


// load a resource

function onWindowResize()
{
    camera.aspect=container.clientWidth/container.clientHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(container.clientWidth, container.clientHeight);
}

function animate()
{
    requestAnimationFrame(animate)
    // model.rotation.y+=0.025;
    controls.update();
    renderer.render(scene,camera);
}


window.addEventListener('click',onWindowResize)
}




init();
    </script>
</body>
</html>